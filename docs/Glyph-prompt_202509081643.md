# タスク: API v0.2 拡張（検索機能の充実）

## 目的
Itabashi Minutes の検索APIを拡張する。  
現行の `/search` エンドポイントに以下を追加する。

## 実装要件
1. **新しいクエリパラメータ**
   - `limit` (int, default=10, max=100)
   - `offset` (int, default=0)
   - `order_by` (enum: `relevance|date|committee`, default=`date`)
   - `order` (enum: `asc|desc`, default=`desc`)

2. **レスポンス拡張**
   - 既存の検索結果に加えて以下を返す:
     - `total`（総件数）
     - `page`（現在のページ番号）
     - `has_next`（次ページがあるか）

3. **ハイライト機能**
   - FTS5 の `snippet()` または `highlight()` を使用し、
   - 一覧レスポンスに `<em>…</em>` で囲ったスニペットを含める。

4. **並び替えの既定**
   - デフォルトは `date desc`。
   - relevance で並び替えたい場合は `order_by=relevance` を指定。

5. **OpenAPI スキーマ更新**
   - `/docs` に新しいパラメータとレスポンスが正しく表示されること。

## テスト要件
- `limit/offset` を変えた時に件数とページングが正しく動作する。
- `order_by=date` で日付順、`order_by=committee` で委員会名順になる。
- `order_by=relevance` の場合、FTSスコア順になる。
- ハイライト文字列に `<em>` タグが含まれる。
- レスポンスに `total` と `has_next` が正しく返る。

## 変更対象
- `api/main.py`
- 必要なら `catalog/index.py` や `schemas/response.json` 等
- テスト: `tests/test_api.py` に新しいケースを追加

## Done条件
- `pytest -q` が通過する
- ローカルで `poetry run api-serve` → `/docs` を開くと新仕様が反映されている
