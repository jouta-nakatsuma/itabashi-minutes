# Sprint 2 Step 7 実装報告（Verification Cheatsheet 追加） — 2026-09-07 14:39

- 概要: README 末尾に「Verification Cheatsheet (Sprint 2)」を追加し、fixtures 前提でコピペ一発の動作確認手順を提供。既存の Quick Start と整合し、CI 定義の変更はなし。
- 対象PR: docs(readme): add Verification Cheatsheet (Sprint 2)

## 変更点サマリ
- README:
  - “Verification Cheatsheet (Sprint 2)” を新設。
  - 内容:
    - 0) Lint/Type（Ruff は任意・導入済み時のみ）
    - 1) Catalog 構築（fixtures）
    - 2) API 起動
    - 3) curl スモーク（/health, search×2, document）
    - 4) Optional: `scripts/rebuild_catalog.py`（fresh + analyze + vacuum）
  - Glyph 指摘の折返しエラーを修正（`date_from=2025-08-01`、`--src tests/fixtures` の行を1行化）。
  - /health の疎通確認を追加。

## 受入基準（満たした内容）
- CI グリーン（文書変更のみ、ワークフロー変更なし）。
- README 掲載のコマンドがそのままコピペで通る（fixtures 前提）。
- Quick Start と矛盾なし（同じ道筋・同じコマンドの要約として提示）。

## 確認コマンド（抜粋）
```bash
# Lint / Type（任意）
poetry run black .
poetry run mypy .
poetry run ruff check . || true

# Catalog 構築（fixtures）
rm -f var/minutes.db && mkdir -p var
sqlite3 var/minutes.db < catalog/schema.sql
poetry run catalog-load --db var/minutes.db --src tests/fixtures

# API 起動
poetry run api-serve --db var/minutes.db --host 127.0.0.1 --port 8000

# Smoke
curl "http://127.0.0.1:8000/health"
curl "http://127.0.0.1:8000/search?q=高島平"
curl "http://127.0.0.1:8000/search?committee=文教児童委員会&date_from=2025-08-01&date_to=2025-08-31"
curl "http://127.0.0.1:8000/document/1"

# Optional: 再構築＋統計
poetry run python scripts/rebuild_catalog.py --db var/minutes.db --src tests/fixtures --fresh --analyze --vacuum --verbose
```

## 注意点
- Cheatsheet は要約であり、Quick Start を重複記述しない方針。
- 既定は fixtures。実データ使用時は `--src data/normalized/` を選択。
- 破壊的変更なし・スキーマやAPI仕様への影響なし。

